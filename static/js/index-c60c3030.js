import{r as M,s as Q,t as W,u as K,v as X,w as Y,x as Z,y as ee,A as le,p as oe,B as ae,C as te,D as re,F as pe,G as se,H as ue,m as B}from"./element-plus-9b96024d.js";import{B as ne}from"./index-24cea5fb.js";import{r as x,w as R,l as de,o as a,c as _,W as n,M as r,af as C,ag as ce,J as i,a9 as g,L as s,D as t,I as u,a3 as d,Q as E,C as _e,O as me,u as L}from"./@vue-bb606c05.js";import{_ as fe}from"./plugin-vueexport-helper-c27b6911.js";import"./dayjs-7ee32c40.js";import"./lodash-es-99d59bdd.js";import"./@element-plus-0b99b001.js";import"./@sxzz-c75af06c.js";import"./@vueuse-25b03aa5.js";import"./@ctrl-f8748455.js";import"./async-validator-dee29e8b.js";import"./normalize-wheel-es-ed76fb12.js";const ve={class:"base-form"},ye={__name:"index",props:{formList:{type:Array,default:()=>[]},row:{type:Object},modelValue:{type:Object,default:()=>({})}},emits:["validate","update:modelValue"],setup(m,{expose:v,emit:y}){const V=m,o=x({});R(()=>V.modelValue,c=>{o.value=c},{immediate:!0}),R(o,c=>{y("update:modelValue",c)});const h=de(()=>V.formList.reduce((w,b)=>(b.rules&&(w[b.prop]=b.rules),w),{})),f=x(null);return v({validate:()=>f.value.validate(),clearValidate:()=>{f.value.clearValidate()},resetFields:()=>{f.value.resetFields()}}),(c,w)=>{const b=M,F=Q,P=W,S=K,T=X,I=Y,O=Z,$=ee,A=le,G=oe,N=ae,j=te,q=re,z=pe,H=se,J=ue;return a(),_("div",ve,[n(J,t({model:o.value,rules:h.value,ref_key:"formRef",ref:f},c.$attrs),{default:r(()=>[n(H,C(ce(m.row)),{default:r(()=>[(a(!0),_(i,null,g(m.formList,e=>(a(),s(z,t({key:e.prop},e.col),{default:r(()=>[n(q,t({label:e.label,prop:e.prop},e),{default:r(()=>[e.type==="input"?(a(),s(b,t({key:0,modelValue:o.value[e.prop],"onUpdate:modelValue":l=>o.value[e.prop]=l},e.props),null,16,["modelValue","onUpdate:modelValue"])):u("",!0),e.type==="slider"?(a(),s(F,t({key:1,modelValue:o.value[e.prop],"onUpdate:modelValue":l=>o.value[e.prop]=l},e.props),null,16,["modelValue","onUpdate:modelValue"])):u("",!0),e.type==="radio"?(a(),s(T,t({key:2,modelValue:o.value[e.prop],"onUpdate:modelValue":l=>o.value[e.prop]=l},e.groupProps),{default:r(()=>{var l;return[(a(!0),_(i,null,g(((l=e.props)==null?void 0:l.data)||[],p=>(a(),_(i,{key:p.value},[e.radioType==="radio-button"?(a(),s(P,t({key:0,label:p.value},e.props),{default:r(()=>[d(E(p.label),1)]),_:2},1040,["label"])):(a(),s(S,t({key:1,label:p.value},e.props),{default:r(()=>[d(E(p.label),1)]),_:2},1040,["label"]))],64))),128))]}),_:2},1040,["modelValue","onUpdate:modelValue"])):u("",!0),e.type==="checkbox"?(a(),s(O,t({key:3,modelValue:o.value[e.prop],"onUpdate:modelValue":l=>o.value[e.prop]=l},e.groupProps),{default:r(()=>{var l;return[(a(!0),_(i,null,g(((l=e.props)==null?void 0:l.data)||[],p=>(a(),s(I,t({label:p.value,key:p.value},e.props),{default:r(()=>[d(E(p.label),1)]),_:2},1040,["label"]))),128))]}),_:2},1040,["modelValue","onUpdate:modelValue"])):u("",!0),e.type==="date"?(a(),s($,t({key:4,type:e.dateType||"date",modelValue:o.value[e.prop],"onUpdate:modelValue":l=>o.value[e.prop]=l},e.props),null,16,["type","modelValue","onUpdate:modelValue"])):u("",!0),e.type==="time"?(a(),s(A,t({key:5,modelValue:o.value[e.prop],"onUpdate:modelValue":l=>o.value[e.prop]=l},e.props),null,16,["modelValue","onUpdate:modelValue"])):u("",!0),e.type==="switch"?(a(),s(G,t({key:6,modelValue:o.value[e.prop],"onUpdate:modelValue":l=>o.value[e.prop]=l},e.props),null,16,["modelValue","onUpdate:modelValue"])):u("",!0),e.type==="select"?(a(),s(j,t({key:7,modelValue:o.value[e.prop],"onUpdate:modelValue":l=>o.value[e.prop]=l},e.props),{default:r(()=>{var l;return[(a(!0),_(i,null,g(((l=e.props)==null?void 0:l.data)||[],p=>(a(),s(N,{label:p.label,value:p.value,key:p.value},{default:r(()=>[d(E(p.label),1)]),_:2},1032,["label","value"]))),128))]}),_:2},1040,["modelValue","onUpdate:modelValue"])):u("",!0),e.type==="slot"?_e(c.$slots,e.prop,C(t({key:8},{item:e,formData:o.value,formList:m.formList}))):u("",!0),e.type==="render"?(a(),s(me(e.render),C(t({key:9},{item:e,formData:o.value,formList:m.formList})),null,16)):u("",!0)]),_:2},1040,["label","prop"])]),_:2},1040))),128))]),_:3},16)]),_:3},16,["model","rules"])])}}},be={formList:[{type:"input",prop:"test1",label:"测试1",rules:[{required:!0,message:"Please select Activity count",trigger:"blur"}],col:{span:12}},{type:"slider",prop:"test2",label:"测试2",col:{span:12}},{type:"slider",prop:"test222",label:"测试222",col:{span:12}},{type:"radio",props:{data:[{value:"1",label:"11"},{value:"2",label:"22"}]},prop:"test3",label:"测试3",col:{span:12}},{type:"checkbox",props:{data:[{value:"1",label:"11"},{value:"2",label:"22"}]},prop:"test4",label:"测试4"},{type:"date",dateType:"daterange",prop:"test5",label:"测试5",props:{"start-placeholder":"Start date","end-placeholder":"End date","range-separator":"To"},col:{span:12}},{type:"time",prop:"test6",label:"测试6"},{type:"switch",prop:"test7",label:"测试7"},{type:"slot",prop:"tests",label:"slot"},{type:"render",render:()=>n(B,null,{default:()=>[d("render")]}),label:"render"},{type:"select",prop:"test8",label:"测试8",props:{data:[{value:"1",label:"11"},{value:"2",label:"22"}]}}]};const ie={class:"form"},Ve={__name:"index",setup(m){const v=x(null),y=x({test1:"",test2:15,test3:"",test4:[],test5:[],test6:"",test7:"",test8:"",tests:""}),V=async()=>{try{await v.value.validate(),console.log("校验成功")}catch{console.log("校验失败")}},o=()=>{v.value.resetFields()},h=()=>{console.log(y.value)};return(f,U)=>{const k=B;return a(),_("div",ie,[n(L(ne),null,{title:r(()=>[d(" 表单 ")]),content:r(()=>[n(L(ye),t({"label-width":"90px","label-position":"right",ref_key:"formRef",ref:v,modelValue:y.value,"onUpdate:modelValue":U[0]||(U[0]=D=>y.value=D)},L(be),{onValidate:h}),{tests:r(()=>[n(k,null,{default:r(()=>[d("ee")]),_:1})]),_:1},16,["modelValue"]),n(k,{onClick:V},{default:r(()=>[d(" 提交 ")]),_:1}),n(k,{onClick:o},{default:r(()=>[d(" 重置 ")]),_:1})]),_:1})])}}},Fe=fe(Ve,[["__scopeId","data-v-a65afc15"]]);export{Fe as default};
